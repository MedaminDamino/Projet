<div class="star-rating d-flex align-items-center">
    @for (var i = 1; i <= 5; i++)
    {
        var starValue = i;
        var isFilled = starValue <= Value;
        <i class="bi @(isFilled ? "bi-star-fill text-warning" : "bi-star text-muted")"
           role="button"
           @onclick="() => OnClick(starValue)"
           @onclick:stopPropagation="true">
        </i>
    }
</div>

@code {
    [Parameter] public int Value { get; set; }
    [Parameter] public EventCallback<int> ValueChanged { get; set; }
    [Parameter] public bool IsReadOnly { get; set; } = false;

    private async Task OnClick(int rating)
    {
        if (IsReadOnly)
        {
            return;
        }

        Value = rating;
        if (ValueChanged.HasDelegate)
        {
            await ValueChanged.InvokeAsync(rating);
        }
    }
}
